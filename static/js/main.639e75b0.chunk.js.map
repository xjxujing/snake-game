{"version":3,"sources":["App.js","components/GameStart/index.js","components/Food/index.js","components/Snake/index.js","assert/control.png","components/Control/index.js","components/Cover/index.js","components/GameOver/index.js","audio/click.ogg","audio/gameover.ogg","reportWebVitals.js","index.js"],"names":["timeoutInstance","GameStart","memo","props","className","style","display","gameState","onClick","onGameStart","type","String","highScore","padStart","Food","food","left","top","Snake","nextProps","nextState","head","snakeBody","length","checkIsOut","this","map","dot","dotIndex","transform","Component","Control","showScore","score","direction","lineHeight","changeSpeed","clickDirection","src","control","alt","onGameStateChange","Cover","state","reStartGame","GameOver","clear","tm","clearTimeout","initialState","generateFoodCoordinate","time","aspectRatio","W","document","documentElement","clientWidth","H","clientHeight","toFixed","calcViewportAspectRatio","buttonVoice","Audio","buttonWav","overVoice","overWav","Math","floor","random","localHighScore","localStorage","getItem","App","componentDidUpdate","checkIsEatFood","checkIsTouchSelf","currentDirection","play","setState","controlDirection","key","keysMap","Object","keys","includes","moveSnake","body","moveHead","push","shift","setTimeout","onGameOver","newSnake","unshift","pop","forEach","item","currentTime","changeGameState","setItem","onGameContinue","onGamePause","addEventListener","removeEventListener","direc","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.639e75b0.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport GameStart from './components/GameStart'\r\nimport Food from './components/Food';\r\nimport Snake from './components/Snake';\r\nimport Control from './components/Control'\r\nimport Cover from './components/Cover'\r\nimport GameOver from './components/GameOver'\r\nimport buttonWav from './audio/click.ogg'\r\nimport overWav from './audio/gameover.ogg'\r\n\r\n// import {throttle} from './utils/utils'\r\n\r\nlet timeoutInstance;\r\n\r\nconst clear = (tm) => {\r\n  if (tm) clearTimeout(tm);\r\n};\r\n\r\nconst STEP = 4\r\nconst initialState = {\r\n  snakeBody: [\r\n    [0, 0],\r\n    [STEP, 0],\r\n  ],\r\n  food: generateFoodCoordinate(),\r\n  direction: 'RIGHT',\r\n  time: 500,\r\n  gameState: 'START', // OVER | CONTINUE | PAUSE | START\r\n  aspectRatio: calcViewportAspectRatio(),\r\n  score: 0\r\n}\r\n\r\nlet buttonVoice = new Audio(buttonWav)\r\nlet overVoice = new Audio(overWav)\r\n\r\nfunction calcViewportAspectRatio() {\r\n  const W = document.documentElement.clientWidth\r\n  const H = document.documentElement.clientHeight\r\n  return (W / H).toFixed(2) >= 0.56\r\n}\r\n\r\n// 食物坐标 x, y 是 0 ~ 96 之间 的偶数\r\nfunction generateFoodCoordinate() {\r\n  const MAX = 98\r\n  const MIN = 1\r\n  const x = Math.floor((Math.random() * MAX + MIN) / STEP) * STEP\r\n  const y = Math.floor((Math.random() * MAX + MIN) / STEP) * STEP\r\n  return [x, y]\r\n}\r\n\r\nconst localHighScore = localStorage.getItem('snake-game-high-score')\r\n\r\nclass App extends Component {\r\n\r\n  state = { ...initialState, highScore: localHighScore ? localHighScore : 0}\r\n\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.controlDirection)\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    if (this.state.gameState === 'OVER') return\r\n    this.checkIsOut()\r\n    this.checkIsEatFood()\r\n    this.checkIsTouchSelf()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.controlDirection)\r\n  }\r\n\r\n  clickDirection = (direction) => {   \r\n    // console.log('clickDirection') \r\n    const currentDirection = this.state.direction\r\n    if (currentDirection === direction) return\r\n\r\n    if (currentDirection === 'LEFT' && direction === 'RIGHT') return\r\n    if (direction === 'LEFT' && currentDirection === 'RIGHT') return\r\n\r\n    if (currentDirection === 'UP' && direction === 'DOWN') return\r\n    if (direction === 'UP' && currentDirection === 'DOWN') return\r\n\r\n    buttonVoice.play()\r\n    // console.log(direction)\r\n    this.setState({ direction })\r\n  }\r\n\r\n  controlDirection = ({ key }) => {\r\n    const keysMap = {\r\n      'ArrowUp': 'UP',\r\n      'ArrowDown': 'DOWN',\r\n      'ArrowRight': 'RIGHT',\r\n      'ArrowLeft': 'LEFT',\r\n    }\r\n    if (!Object.keys(keysMap).includes(key)) return\r\n    this.clickDirection(keysMap[key])\r\n  }\r\n\r\n  moveSnake = () => {\r\n    clear(timeoutInstance)\r\n    if (this.state.gameState === 'OVER') return\r\n\r\n    const body = [...this.state.snakeBody]\r\n    const head = body[body.length - 1]\r\n\r\n    const directionMap = {\r\n      'UP': [head[0], head[1] - STEP],\r\n      'DOWN': [head[0], head[1] + STEP],\r\n      'RIGHT': [head[0] + STEP, head[1]],\r\n      'LEFT': [head[0] - STEP, head[1]]\r\n    }\r\n\r\n    const moveHead = directionMap[this.state.direction]\r\n    body.push(moveHead)\r\n    body.shift()\r\n    this.setState({ snakeBody: body })\r\n\r\n    timeoutInstance = setTimeout(this.moveSnake, this.state.time)\r\n  }\r\n\r\n  checkIsOut = () => {\r\n    const head = this.state.snakeBody[this.state.snakeBody.length - 1]\r\n    // debugger\r\n\r\n    if (head[0] >= 100 ||\r\n      head[1] >= 100 ||\r\n      head[0] < 0 ||\r\n      head[1] < 0) {\r\n      this.onGameOver()\r\n    }\r\n  }\r\n\r\n  checkIsEatFood = () => {\r\n    const head = this.state.snakeBody[this.state.snakeBody.length - 1]\r\n    const food = this.state.food\r\n\r\n    if (head[0] === food[0] && head[1] === food[1]) {\r\n      let newSnake = [...this.state.snakeBody];\r\n      newSnake.unshift([]);\r\n\r\n      const score = (newSnake.length - 2) * 5\r\n      this.setState({\r\n        food: generateFoodCoordinate(),\r\n        snakeBody: newSnake,\r\n        score\r\n      })\r\n\r\n      this.changeSpeed('SPEED_UP')\r\n    }\r\n  }\r\n\r\n  checkIsTouchSelf = () => {\r\n    const body = [...this.state.snakeBody]\r\n    const head = body.pop()\r\n    body.forEach(item => {\r\n      if (item[0] === head[0] && item[1] === head[1]) {\r\n        this.onGameOver()\r\n      }\r\n    })\r\n  }\r\n\r\n  changeSpeed = (type) => {\r\n    const currentTime = this.state.time\r\n\r\n    if (type === 'SPEED_UP') {\r\n      if (currentTime < 300) return\r\n      buttonVoice.play()\r\n      this.setState({ time: currentTime - 100 })\r\n    } else {\r\n      if (currentTime > 800) return\r\n      buttonVoice.play()\r\n      this.setState({ time: currentTime + 100 })\r\n    }\r\n  }\r\n\r\n  onGameStart = () => {\r\n    buttonVoice.play()\r\n    this.changeGameState('CONTINUE')\r\n    this.moveSnake()\r\n  }\r\n\r\n  reStartGame = () => {\r\n    this.changeGameState('START')\r\n    if (this.state.highScore < this.state.score) {\r\n      localStorage.setItem('snake-game-high-score', this.state.score)\r\n      this.setState({ highScore: this.state.score })\r\n    }\r\n    this.setState({ ...initialState })\r\n    clear(timeoutInstance)\r\n  }\r\n\r\n  onGameStateChange = () => {\r\n    if (this.state.gameState === 'PAUSE') {\r\n      this.onGameContinue()\r\n    } else {\r\n      this.onGamePause()\r\n    }\r\n    buttonVoice.play()\r\n  }\r\n\r\n  changeGameState = (state) => {\r\n    this.setState({ gameState: state })\r\n  }\r\n\r\n  onGamePause = () => {\r\n    clear(timeoutInstance)\r\n    this.changeGameState('PAUSE')\r\n  }\r\n\r\n  onGameContinue = () => {\r\n    this.changeGameState('CONTINUE')\r\n    this.moveSnake()\r\n  }\r\n\r\n  onGameOver = () => {\r\n    clear(timeoutInstance)\r\n    overVoice.play()\r\n    this.changeGameState('OVER')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={[`wrapper ${this.state.aspectRatio ? 'height-100' : 'width-100'}`]}>\r\n        <GameStart\r\n          highScore={this.state.highScore}\r\n          gameState={this.state.gameState}\r\n          onGameStart={this.onGameStart}\r\n        />\r\n\r\n        <div className=\"game-area\">\r\n          <Snake snakeBody={this.state.snakeBody}></Snake>\r\n          <Food food={this.state.food}></Food>\r\n        </div>\r\n\r\n        <Control\r\n          score={this.state.score}\r\n          highScore={this.state.highScore}\r\n          direction={this.state.direction}\r\n          clickDirection={direc => this.clickDirection(direc)}\r\n          onGameStateChange={this.onGameStateChange}\r\n          changeSpeed={type => this.changeSpeed(type)}\r\n          gameState={this.state.gameState}\r\n        >\r\n        </Control>\r\n\r\n        <Cover\r\n          gameState={this.state.gameState}\r\n          onGameStateChange={this.onGameStateChange}\r\n          changeGameState={this.changeGameState}\r\n          reStartGame={this.reStartGame}\r\n        >\r\n        </Cover>\r\n\r\n        <GameOver gameState={this.state.gameState} reStartGame={this.reStartGame}></GameOver>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { memo } from 'react'\r\nimport './index.css'\r\n\r\nconst GameStart = memo((props) => {\r\n\r\n  function showScore() {\r\n    let highScoreStr = String(props.highScore)\r\n    return highScoreStr.padStart(5, '0')\r\n  }\r\n\r\n  return (\r\n    <div className=\"start-cover\" style={{ display: props.gameState === 'START' ? 'block' : 'none' }}>\r\n\r\n      <div className=\"game-title\">SNAKE</div>\r\n      <button onClick={props.onGameStart} type=\"button\" className=\"start-btn nes-btn\">START</button>\r\n\r\n      <p className=\"high-score\">High Score</p>\r\n      <p className=\"high-score\">{showScore()}</p>\r\n\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nexport default GameStart","import { memo } from 'react'\r\nimport './index.css'\r\n\r\nconst Food = memo(function(props) {\r\n  const { food } = props\r\n\r\n  return (\r\n    <span className=\"dot food\" style={{left: `${food[0]}%`, top: `${food[1]}%`}}></span>\r\n  )\r\n})\r\n\r\nexport default Food","\r\nimport React, { Component } from 'react'\r\n\r\n\r\nclass Snake extends Component {\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    function checkIsOut() {\r\n      const head = nextProps.snakeBody[nextProps.snakeBody.length - 1]\r\n      if (head[0] >= 100 ||\r\n        head[1] >= 100 ||\r\n        head[0] < 0 ||\r\n        head[1] < 0) {\r\n          return true\r\n      }\r\n    }\r\n    // 出界了就不要继续渲染了\r\n    if(checkIsOut()) return null\r\n    // console.log({ nextProps, nextState })\r\n    return true\r\n  }\r\n\r\n  render() {\r\n    const { snakeBody } = this.props\r\n    return (\r\n      <>\r\n        {\r\n          snakeBody.map((dot, dotIndex) => {\r\n            // const style = { left: `${dot[0]}%`, top: `${dot[1]}%` }\r\n            const style = { transform: `translate(${dot[0] * 25}%,${dot[1] * 25}%)` }\r\n            return (\r\n              <span key={dotIndex} className=\"dot snake\" style={style}></span>\r\n            )\r\n          }\r\n          )\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Snake","export default __webpack_public_path__ + \"static/media/control.2102a554.png\";","import { Component } from 'react';\r\nimport control from '../../assert/control.png';\r\nimport './index.css'\r\n\r\nclass Control extends Component {\r\n\r\n  showScore = (score) => {\r\n    let scoreStr = String(score)\r\n    return scoreStr.padStart(5, '0')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"control-box\">\r\n        <div className=\"control-left\">\r\n          <div className={`arrow-${this.props.direction}`}>\r\n            <span><i className=\"iconfont icon-jiantou\"></i></span>\r\n          </div>\r\n\r\n          <div className=\"control-speed\">\r\n            <small>SPEED</small>\r\n            <div style={{ lineHeight: '4.5rem' }}>\r\n              <span onClick={() => this.props.changeSpeed('SPEED_DOWN')}><i className=\"iconfont icon-jian\"></i></span>\r\n              <span onClick={() => this.props.changeSpeed('SPEED_UP')}><i className=\"iconfont icon-jia\"></i></span>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"control-direction-box\">\r\n          <div className=\"button\">\r\n            <div>\r\n              <img onClick={() => this.props.clickDirection('UP')} className=\"control-direction d1\" src={control} alt=\"方向\"></img>\r\n              <img onClick={() => this.props.clickDirection('RIGHT')} className=\"control-direction d4\" src={control} alt=\"方向\"></img>\r\n            </div>\r\n            <div className=\"item2\">\r\n              <img onClick={() => this.props.clickDirection('LEFT')} className=\"control-direction d3\" src={control} alt=\"方向\"></img>\r\n              <img onClick={() => this.props.clickDirection('DOWN')} className=\"control-direction d2\" src={control} alt=\"方向\"></img>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"control-right\" >\r\n          <div className=\"record\">\r\n            <h6>{this.showScore(this.props.score)}</h6>\r\n            <h6>{this.showScore(this.props.highScore)}</h6>\r\n          </div>\r\n\r\n          <div style={{ display: `${this.props.gameState === 'CONTINUE' ? 'block' : 'none'}` }}>\r\n            <span onClick={this.props.onGameStateChange}><i className=\"iconfont icon-pause\"></i></span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Control","import { memo } from 'react'\r\nimport './index.css'\r\n\r\nconst Cover = memo(function(props) {\r\n  const state = props.gameState\r\n\r\n  return (\r\n    <div className=\"cover\" style={{ display: `${state === 'PAUSE' ? 'block' : 'none'}` }}>\r\n      <span className=\"paused\">PAUSED</span>\r\n\r\n      <div className=\"opera\">\r\n        <span onClick={props.reStartGame}><i className=\"iconfont icon-list\"></i></span>\r\n        <span onClick={props.onGameStateChange}><i className=\"iconfont icon-play\"></i></span>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Cover","import { memo } from 'react'\r\n\r\nconst GameOver = memo(function (props) {\r\n\r\n  const state = props.gameState\r\n\r\n  return (\r\n    <div className=\"cover\" style={{ display: `${state === 'OVER' ? 'block' : 'none'}` }}>\r\n      <span>GAME OVER</span>\r\n\r\n      <div className=\"opera\">\r\n        <span onClick={props.reStartGame}><i className=\"iconfont icon-list\"></i></span>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nexport default GameOver","export default __webpack_public_path__ + \"static/media/click.3295752d.ogg\";","export default __webpack_public_path__ + \"static/media/gameover.b25dd26e.ogg\";","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport './styles/iconfont.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}